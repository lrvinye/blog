"use strict";(self.webpackChunklrvinye_blog=self.webpackChunklrvinye_blog||[]).push([[931],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var o=t(7294);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,s=function(e,n){if(null==e)return{};var t,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var l=o.createContext({}),c=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=c(e.components);return o.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=c(t),m=s,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||r;return t?o.createElement(g,i(i({ref:n},p),{},{components:t})):o.createElement(g,i({ref:n},p))}));function m(e,n){var t=arguments,s=n&&n.mdxType;if("string"==typeof e||s){var r=t.length,i=new Array(r);i[0]=d;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a.mdxType="string"==typeof e?e:s,i[1]=a;for(var c=2;c<r;c++)i[c]=t[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9202:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return a},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return d}});var o=t(7462),s=t(3366),r=(t(7294),t(3905)),i=["components"],a={title:"\u901a\u8fc7 Helm \u90e8\u7f72 Postgres \u96c6\u7fa4",date:new Date("2021-04-01T20:50:45.000Z"),tags:["Helm","K8S","Postgres","Bitnami","\u5b89\u88c5","\u914d\u7f6e"],category:"\u8fd0\u7ef4"},l=void 0,c={unversionedId:"devops/deployPostgresClusterByHelm",id:"devops/deployPostgresClusterByHelm",isDocsHomePage:!1,title:"\u901a\u8fc7 Helm \u90e8\u7f72 Postgres \u96c6\u7fa4",description:"\u4e0b\u9762\u5c06\u4ecb\u7ecd\uff0c\u5728 K8S \u96c6\u7fa4\u4e2d\u901a\u8fc7 Bitnami \u7684 Helm Chart \u642d\u5efa\u90e8\u7f72\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u67b6\u6784 3 \u8282\u70b9\u7684 Postgres \u96c6\u7fa4",source:"@site/docs/devops/deployPostgresClusterByHelm.md",sourceDirName:"devops",slug:"/devops/deployPostgresClusterByHelm",permalink:"/docs/devops/deployPostgresClusterByHelm",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/devops/deployPostgresClusterByHelm.md",version:"current",frontMatter:{title:"\u901a\u8fc7 Helm \u90e8\u7f72 Postgres \u96c6\u7fa4",date:"2021-04-01T20:50:45.000Z",tags:["Helm","K8S","Postgres","Bitnami","\u5b89\u88c5","\u914d\u7f6e"],category:"\u8fd0\u7ef4"},sidebar:"devops",previous:{title:"\u901a\u8fc7 Helm \u90e8\u7f72 Etcd \u96c6\u7fa4",permalink:"/docs/devops/deployEtcdByHelm"},next:{title:"\u901a\u8fc7 Helm \u90e8\u7f72 RabbitMQ \u96c6\u7fa4",permalink:"/docs/devops/deployRabbitMqClusterByHelm"}},p=[{value:"\u51c6\u5907\u6301\u4e45\u5316",id:"\u51c6\u5907\u6301\u4e45\u5316",children:[]},{value:"\u51c6\u5907 Values.yaml",id:"\u51c6\u5907-valuesyaml",children:[{value:"<strong>\u5168\u5c40\u53c2\u6570</strong>",id:"\u5168\u5c40\u53c2\u6570",children:[]},{value:"<strong>\u8282\u70b9\u8bbe\u7f6e</strong>",id:"\u8282\u70b9\u8bbe\u7f6e",children:[]},{value:"<strong>\u8282\u70b9\u6c60\u8bbe\u7f6e</strong>",id:"\u8282\u70b9\u6c60\u8bbe\u7f6e",children:[]},{value:"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e",id:"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e",children:[]},{value:"<strong>\u6301\u4e45\u5316\u914d\u7f6e</strong>",id:"\u6301\u4e45\u5316\u914d\u7f6e",children:[]}]}],u={toc:p};function d(e){var n=e.components,t=(0,s.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u4e0b\u9762\u5c06\u4ecb\u7ecd\uff0c\u5728 K8S \u96c6\u7fa4\u4e2d\u901a\u8fc7 Bitnami \u7684 Helm Chart \u642d\u5efa\u90e8\u7f72\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u67b6\u6784 3 \u8282\u70b9\u7684 Postgres \u96c6\u7fa4"),(0,r.kt)("p",null,"\u8be5\u96c6\u7fa4\u5c06\u90e8\u7f72\u4e00\u4e2aPGPool\uff08Deployment\uff09\u4f5c\u4e3a\u8fde\u63a5\u6c60\uff0c\u63d0\u4f9b\u5ba2\u6237\u7aef\u8fde\u63a5\u6570\u636e\u5e93\u65f6\u7684\u8d1f\u8f7d\u5747\u8861\u4f5c\u7528\nPG\u6570\u636e\u5e93\u8282\u70b9\uff08StatefulSet\uff09\u4f5c\u4e3a\u6570\u636e\u5e93POD\u96c6\uff0c\u63d0\u4f9b\u6570\u636e\uff0c\u540c\u65f6\u76f8\u4e92\u4e4b\u95f4\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"repmgr"),"\uff08\u5c06\u5b58\u5728\u4e8e\u6bcf\u4e00\u4e2a\u8282\u70b9POD\u4e2d\uff09\u8fdb\u884c\u590d\u5236"),(0,r.kt)("h1",{id:"\u73af\u5883"},"\u73af\u5883"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u817e\u8baf\u4e91 kubernetes 1.18.4-tke.6"),(0,r.kt)("li",{parentName:"ul"},"Bitnami postgresql-ha-6.8.1 ",(0,r.kt)("a",{parentName:"li",href:"https://charts.bitnami.com/bitnami/postgresql-ha-6.8.1.tgz"},"Chart \u4e0b\u8f7d"))),(0,r.kt)("h1",{id:"\u5177\u4f53\u6b65\u9aa4"},"\u5177\u4f53\u6b65\u9aa4"),(0,r.kt)("h2",{id:"\u51c6\u5907\u6301\u4e45\u5316"},"\u51c6\u5907\u6301\u4e45\u5316"),(0,r.kt)("p",null,"\u8fd9\u91cc\u4f7f\u7528\u817e\u8baf\u4e91\u7684\u4e91\u786c\u76d8\u4f5c\u4e3a\u6301\u4e45\u5316\u5377"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u624b\u52a8\u521b\u5efa \u6240\u9700\u7684\u4e91\u786c\u76d8\uff0c\u8fd9\u91cc\u6211\u4eec\u6709 3 \u4e2a\u8282\u70b9\uff0c\u9700\u8981 3 \u4e2a\u4e91\u786c\u76d8\uff0c\u6bcf\u4e2a 10GB"),(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e0e\u4e91\u786c\u76d8\u5bf9\u5e94\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"storageClass")," \u7531\u4e8e\u662f\u6570\u636e\u5e93\u6301\u4e45\u5316\u578b\u7684\u6570\u636e\uff0c\u6211\u4eec\u5e94\u8be5\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u6307\u5b9a\u56de\u6536\u7b56\u7565\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"Retain"),"\uff0c\u5377\u7ed1\u5b9a\u6a21\u5f0f\u5e94\u8be5\u8bbe\u7f6e\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"\u7acb\u5373\u7ed1\u5b9a")),(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u6307\u5b9a",(0,r.kt)("inlineCode",{parentName:"li"},"storageClass"),"\u7684 PV \u5377 \u5e76\u5728\u63a7\u5236\u53f0\u4e2d\u4e0e\u4e0a\u4e00\u6b65\u521b\u5efa\u7684\u4e91\u786c\u76d8\u64cd\u4f5c\u8fdb\u884c\u7ed1\u5b9a"),(0,r.kt)("li",{parentName:"ol"},"PV \u9700\u8981\u6253\u4e0a labels")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"labels:\n  app: pgsql-node\n")),(0,r.kt)("p",null,"\u8fd9\u91cc\u7684 label \u5c06\u5728\u4e0b\u9762\u7684\u6b65\u9aa4\u4e2d\u7528\u6765\u5bf9 PVC \u8fdb\u884c\u5339\u914d"),(0,r.kt)("h2",{id:"\u51c6\u5907-valuesyaml"},"\u51c6\u5907 Values.yaml"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e0b\u9762\u7684 Values \u914d\u7f6e\u4e2d\uff0c\u4ec5\u6307\u51fa\u9700\u8981\u6839\u636e",(0,r.kt)("a",{parentName:"p",href:"#Values%E5%8E%9F%E6%A8%A1%E6%9D%BF%E9%85%8D%E7%BD%AE"},"\u6a21\u677f"),"\u7684\u539f\u914d\u7f6e\u4fe1\u606f\u8fdb\u884c\u81ea\u5b9a\u4e49\u7684\u9009\u9879\uff01\uff01\uff01")),(0,r.kt)("h3",{id:"\u5168\u5c40\u53c2\u6570"},(0,r.kt)("strong",{parentName:"h3"},"\u5168\u5c40\u53c2\u6570")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6307\u5b9a ",(0,r.kt)("inlineCode",{parentName:"li"},"storageClass")," \u4e3a\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u7684 SC")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"global:\n  #   imageRegistry: myRegistryName\n  #   imagePullSecrets:\n  #     - myRegistryKeySecretName\n  storageClass: cbs-db-sc-test\n  postgresql:\n    #### PG\u6570\u636e\u5e93\u8fde\u63a5\u7528\u6237 ####\n    username: lrvinye\n    password: xxx123\n    # database: testdb1\n    repmgrUsername: repmgruser\n    repmgrPassword: xxx45665\n    # repmgrDatabase: repmgrdb1\n  #     existingSecret: myExistingSecret\n  #   ldap:\n  #     bindpw: bindpassword\n  #     existingSecret: myExistingSecret\n  pgpool:\n    adminUsername: lrvinye\n    adminPassword: xxx132\n")),(0,r.kt)("h3",{id:"\u8282\u70b9\u8bbe\u7f6e"},(0,r.kt)("strong",{parentName:"h3"},"\u8282\u70b9\u8bbe\u7f6e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"postgresql:\n  ## Number of replicas to deploy\n  ## PG\u8282\u70b9\u6570,\u542f\u7528\u96c6\u7fa4\u5e76\u8bbe\u7f6e`replicaCount`\u8282\u70b9\u6570\u4e3a 3\n  replicaCount: 3\nmaster:\n  #\u8fd9\u91cc\u6839\u636e\u81ea\u5df1\u7684\u53ef\u7528\u8d44\u6e90\u5408\u7406\u914d\u7f6e\n  resources:\n    requests:\n      memory: 100Mi\n      cpu: 50m\n    limits:\n      memory: 256Mi\n      cpu: 150m\n  nodeSelector:\n    #\u8fd9\u91cc\u662f\u7528\u6765\u7ea6\u675f\u8282\u70b9\u7684\u6240\u5728node\uff0c\u56e0\u4e3a\u817e\u8baf\u4e91\u7684\u4e91\u786c\u76d8\u53ea\u80fd\u6302\u8f7d\u540c\u4e00\u53ef\u7528\u533a\u4e0b\u7684CVM\n    topology.com.tencent.cloud.csi.cbs/zone: ap-guangzhou-4\n")),(0,r.kt)("h3",{id:"\u8282\u70b9\u6c60\u8bbe\u7f6e"},(0,r.kt)("strong",{parentName:"h3"},"\u8282\u70b9\u6c60\u8bbe\u7f6e")),(0,r.kt)("p",null,"\u57fa\u672c\u53c2\u6570\u4e0e\u4e0a\u9762\u7684PG\u8282\u70b9\u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u7531\u4e8epgpool\u662f\u4f5c\u4e3apg\u7684\u8d1f\u8f7d\u5747\u8861\u5668\u5b58\u5728\uff08\u90e8\u7f72\u51fa\u6765\u662f\u4e00\u4e2aDeployment\uff09\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u6302\u8f7d\u6301\u4e45\u5377\uff0c\u4ec5\u9700\u8981\u6309\u9700\u6c42\u5206\u914d\u597dpod\u526f\u672c\u6570\u4e0e\u8d44\u6e90\u5373\u53ef"),(0,r.kt)("h3",{id:"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e"},"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e"),(0,r.kt)("p",null,"\u4e3a\u4e86\u9632\u6b62\u6743\u9650\u4e0d\u8db3",(0,r.kt)("inlineCode",{parentName:"p"},"Permission deny")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"volumePermissions:\n  enabled: true\n")),(0,r.kt)("h3",{id:"\u6301\u4e45\u5316\u914d\u7f6e"},(0,r.kt)("strong",{parentName:"h3"},"\u6301\u4e45\u5316\u914d\u7f6e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"persistence:\n  enabled: true\n  mountPath: /bitnami/postgresql\n  accessModes:\n    - ReadWriteOnce\n  size: 10Gi\n  annotations: {}\n  ## selector can be used to match an existing PersistentVolume\n  selector:\n    matchLabels:\n      ## \u7528\u6765\u4e0e\u4e0a\u9762\u7684PV\u8fdb\u884c\u5339\u914d\n      app: pgsql-node\n")),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Chart \u51c6\u5907\u5b8c\u6bd5\u5373\u53ef\u8fdb\u884c\u90e8\u7f72"),(0,r.kt)("h1",{id:"values-\u539f\u6a21\u677f\u914d\u7f6e"},"Values \u539f\u6a21\u677f\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'## Global Docker image parameters\n## Please, note that this will override the image parameters, including dependencies, configured to use the global value\n## Current available global Docker image parameters: imageRegistry, imagePullSecrets and storageClass\n##\n# global:\n#   imageRegistry: myRegistryName\n#   imagePullSecrets:\n#     - myRegistryKeySecretName\n#   storageClass: myStorageClass\n#   postgresql:\n#     username: customuser\n#     password: custompassword\n#     database: customdatabase\n#     repmgrUsername: repmgruser\n#     repmgrPassword: repmgrpassword\n#     repmgrDatabase: repmgrdatabase\n#     existingSecret: myExistingSecret\n#   ldap:\n#     bindpw: bindpassword\n#     existingSecret: myExistingSecret\n#   pgpool:\n#     adminUsername: adminuser\n#     adminPassword: adminpassword\n#     existingSecret: myExistingSecret\n\n## Bitnami PostgreSQL image\n## ref: https://hub.docker.com/r/bitnami/postgresql/tags/\n##\npostgresqlImage:\n  registry: docker.io\n  repository: bitnami/postgresql-repmgr\n  tag: 11.11.0-debian-10-r43\n  ## Specify a imagePullPolicy. Defaults to \'Always\' if image tag is \'latest\', else set to \'IfNotPresent\'\n  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images\n  ##\n  pullPolicy: IfNotPresent\n  ## Optionally specify an array of imagePullSecrets (secrets must be manually created in the namespace)\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n  ##\n  # pullSecrets:\n  #   - myRegistryKeySecretName\n\n  ## Set to true if you would like to see extra information on logs\n  ##\n  debug: false\n\n## Bitnami Pgpool image\n## ref: https://hub.docker.com/r/bitnami/pgpool/tags/\n##\npgpoolImage:\n  registry: docker.io\n  repository: bitnami/pgpool\n  tag: 4.2.2-debian-10-r38\n  ## Specify a imagePullPolicy. Defaults to \'Always\' if image tag is \'latest\', else set to \'IfNotPresent\'\n  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images\n  ##\n  pullPolicy: IfNotPresent\n  ## Optionally specify an array of imagePullSecrets (secrets must be manually created in the namespace)\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n  ##\n  # pullSecrets:\n  #   - myRegistryKeySecretName\n\n  ## Set to true if you would like to see extra information on logs\n  ##\n  debug: false\n\n## Init containers parameters:\n## volumePermissions: Change the owner and group of the persistent volume mountpoint\n##\nvolumePermissionsImage:\n  registry: docker.io\n  repository: bitnami/bitnami-shell\n  tag: "10"\n  ## Specify a imagePullPolicy. Defaults to \'Always\' if image tag is \'latest\', else set to \'IfNotPresent\'\n  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images\n  ##\n  pullPolicy: Always\n  ## Optionally specify an array of imagePullSecrets (secrets must be manually created in the namespace)\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n  ##\n  # pullSecrets:\n  #   - myRegistryKeySecretName\n\n## Bitnami PostgreSQL Prometheus exporter image\n## ref: https://hub.docker.com/r/bitnami/pgpool/tags/\n##\nmetricsImage:\n  registry: docker.io\n  repository: bitnami/postgres-exporter\n  tag: 0.9.0-debian-10-r23\n  ## Specify a imagePullPolicy. Defaults to \'Always\' if image tag is \'latest\', else set to \'IfNotPresent\'\n  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images\n  ##\n  pullPolicy: IfNotPresent\n  ## Optionally specify an array of imagePullSecrets (secrets must be manually created in the namespace)\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n  ##\n  # pullSecrets:\n  #   - myRegistryKeySecretName\n\n  ## Set to true if you would like to see extra information on logs\n  ##\n  debug: false\n\n## String to partially override common.names.fullname template (will maintain the release name)\n##\n# nameOverride:\n\n## String to fully override common.names.fullname template\n##\n# fullnameOverride:\n\n## Kubernetes Cluster Domain\n##\nclusterDomain: cluster.local\n\n## Pod Service Account\n## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/\n##\nserviceAccount:\n  enabled: false\n  ## Name of an already existing service account. Setting this value disables the automatic service account creation.\n  # name:\n\n## Common annotations to add to all resources (sub-charts are not considered). Evaluated as a template\n##\ncommonAnnotations: {}\n\n## Common labels to add to all resources (sub-charts are not considered). Evaluated as a template\n##\ncommonLabels: {}\n\n## PostgreSQL parameters\n##\npostgresql:\n  ## Labels to add to the StatefulSet. Evaluated as template\n  ##\n  labels: {}\n\n  ## Labels to add to the StatefulSet pods. Evaluated as template\n  ##\n  podLabels: {}\n\n  ## Number of replicas to deploy\n  ##\n  replicaCount: 2\n\n  ## Update strategy for PostgreSQL statefulset\n  ## ref: https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#update-strategies\n  ##\n  updateStrategyType: RollingUpdate\n\n  ## Deployment pod host aliases\n  ## https://kubernetes.io/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/\n  ##\n  hostAliases: []\n\n  ## Additional pod annotations\n  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/\n  ##\n  podAnnotations: {}\n\n  ## Pod priority class\n  ## Ref: https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/\n  ##\n  priorityClassName: ""\n\n  ## PostgreSQL pod affinity preset\n  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\n  ## Allowed values: soft, hard\n  ##\n  podAffinityPreset: ""\n\n  ## PostgreSQL pod anti-affinity preset\n  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\n  ## Allowed values: soft, hard\n  ##\n  podAntiAffinityPreset: soft\n\n  ## PostgreSQL node affinity preset\n  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity\n  ## Allowed values: soft, hard\n  ##\n  nodeAffinityPreset:\n    ## Node affinity type\n    ## Allowed values: soft, hard\n    ##\n    type: ""\n    ## Node label key to match\n    ## E.g.\n    ## key: "kubernetes.io/e2e-az-name"\n    ##\n    key: ""\n    ## Node label values to match\n    ## E.g.\n    ## values:\n    ##   - e2e-az1\n    ##   - e2e-az2\n    ##\n    values: []\n\n  ## Affinity for PostgreSQL pods assignment\n  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity\n  ## Note: postgresql.podAffinityPreset, postgresql.podAntiAffinityPreset, and postgresql.nodeAffinityPreset will be ignored when it\'s set\n  ##\n  affinity: {}\n\n  ## Node labels for PostgreSQL pods assignment\n  ## ref: https://kubernetes.io/docs/user-guide/node-selection/\n  ##\n  nodeSelector: {}\n\n  ## Tolerations for PostgreSQL pods assignment\n  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/\n  ##\n  tolerations: []\n\n  ## K8s Security Context\n  ## https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\n  ##\n  securityContext:\n    enabled: true\n    fsGroup: 1001\n\n  ## Container Security Context\n  ## https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\n  ##\n  containerSecurityContext:\n    enabled: true\n    runAsUser: 1001\n\n  ## Custom Liveness probe\n  ##\n  customLivenessProbe: {}\n\n  ## Custom Readiness probe\n  ##\n  customReadinessProbe: {}\n\n  ## Custom Startup probe\n  ##\n  customStartupProbe: {}\n\n  ## Container command (using container default if not set)\n  ##\n  command:\n\n  ## Container args (using container default if not set)\n  ##\n  args:\n\n  ## lifecycleHooks for the container to automate configuration before or after startup.\n  ##\n  lifecycleHooks:\n\n  ## An array to add extra env vars\n  ## For example:\n  ##\n  extraEnvVars: []\n  #  - name: BEARER_AUTH\n  #    value: true\n\n  ## ConfigMap with extra environment variables\n  ##\n  extraEnvVarsCM:\n\n  ## Secret with extra environment variables\n  ##\n  extraEnvVarsSecret:\n\n  ## Extra volumes to add to the deployment\n  ##\n  extraVolumes: []\n\n  ## Extra volume mounts to add to the container\n  ##\n  extraVolumeMounts: []\n\n  ## Extra init containers to add to the deployment\n  ##\n  initContainers: []\n\n  ## Extra sidecar containers to add to the deployment\n  ##\n  sidecars: []\n\n  ## PostgreSQL containers\' resource requests and limits\n  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/\n  ##\n  resources:\n    # We usually recommend not to specify default resources and to leave this as a conscious\n    # choice for the user. This also increases chances charts run on environments with little\n    # resources, such as Minikube. If you do want to specify resources, uncomment the following\n    # lines, adjust them as necessary, and remove the curly braces after \'resources:\'.\n    limits: {}\n    #   cpu: 250m\n    #   memory: 256Mi\n    requests: {}\n    #   cpu: 250m\n    #   memory: 256Mi\n\n  ## PostgreSQL container\'s liveness, readiness, and startup probes\n  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes\n  ##\n  livenessProbe:\n    enabled: true\n    initialDelaySeconds: 30\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 6\n  readinessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 6\n  startupProbe:\n    enabled: false\n    initialDelaySeconds: 5\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 10\n\n  ## Pod disruption budget configuration\n  ##\n  pdb:\n    ## Specifies whether a Pod disruption budget should be created\n    ##\n    create: false\n    minAvailable: 1\n    # maxUnavailable: 1\n\n  ## PostgreSQL configuration parameters\n  ##\n  username: postgres\n  # password:\n  # database:\n\n  ## PostgreSQL password using existing secret\n  # existingSecret: secret\n\n  ## PostgreSQL admin password (used when `postgresql.username` is not `postgres`)\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql/blob/master/README.md#creating-a-database-user-on-first-run (see note!)\n  # postgresPassword:\n\n  ## Mount PostgreSQL secret as a file instead of passing environment variable\n  # usePasswordFile: false\n\n  ## Store Repmgr username and password into a passfile with format "*:*:*:username:password" and use it to configure Repmgr instead of using password (Requires Postgresql 10+, otherwise ignored)\n  # ref: https://repmgr.org/docs/current/configuration-password-management.html\n  #      https://www.postgresql.org/docs/current/libpq-pgpass.html\n  # repmgrUsePassfile: false\n\n  ## Store Repmgr in a custom path\n  # repmgrPassfilePath:\n\n  ## Upgrade repmgr extension in the database\n  ##\n  upgradeRepmgrExtension: false\n\n  ## Configures pg_hba.conf to trust every user\n  ##\n  pgHbaTrustAll: false\n\n  ## Synchronous replication\n  ##\n  syncReplication: false\n\n  ## Repmgr configuration parameters\n  ##\n  repmgrUsername: repmgr\n  # repmgrPassword:\n  repmgrDatabase: repmgr\n  repmgrLogLevel: NOTICE\n  repmgrConnectTimeout: 5\n  repmgrReconnectAttempts: 3\n  repmgrReconnectInterval: 5\n\n  ## Audit settings\n  ## https://github.com/bitnami/bitnami-docker-postgresql#auditing\n  ##\n  audit:\n    ## Log client hostnames\n    ##\n    logHostname: true\n    ## Log connections to the server\n    ##\n    logConnections: false\n    ## Log disconnections\n    ##\n    logDisconnections: false\n    ## Operation to audit using pgAudit (default if not set)\n    ##\n    pgAuditLog: ""\n    ## Log catalog using pgAudit\n    ##\n    pgAuditLogCatalog: "off"\n    ## Log level for clients\n    ##\n    clientMinMessages: error\n    ## Template for log line prefix (default if not set)\n    ##\n    logLinePrefix: ""\n    ## Log timezone\n    ##\n    logTimezone: ""\n\n  ## Shared preload libraries\n  ##\n  sharedPreloadLibraries: "pgaudit, repmgr"\n\n  ## Maximum total connections\n  ##\n  maxConnections:\n\n  ## Maximum connections for the postgres user\n  ##\n  postgresConnectionLimit:\n\n  ## Maximum connections for the created user\n  ##\n  dbUserConnectionLimit:\n\n  ## TCP keepalives interval\n  ##\n  tcpKeepalivesInterval:\n\n  ## TCP keepalives idle\n  ##\n  tcpKeepalivesIdle:\n\n  ## TCP keepalives count\n  ##\n  tcpKeepalivesCount:\n\n  ## Statement timeout\n  ##\n  statementTimeout:\n\n  ## Remove pg_hba.conf lines with the following comma-separated patterns\n  ## (cannot be used with custom pg_hba.conf)\n  ##\n  pghbaRemoveFilters:\n\n  ## Extra init containers\n  ## Example\n  ##\n  ## extraInitContainers:\n  ##   - name: do-something\n  ##     image: busybox\n  ##     command: [\'do\', \'something\']\n  ##\n  extraInitContainers: []\n\n  ## Repmgr configuration\n  ## You can use this parameter to specify the content for repmgr.conf\n  ## Otherwise, a repmgr.conf will be generated based on the environment variables\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql-repmgr#configuration\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql-repmgr#configuration-file\n  ## Example:\n  ## repmgrConfiguration: |-\n  ##   ssh_options=\'-o "StrictHostKeyChecking no" -v\'\n  ##   use_replication_slots=\'1\'\n  ##   ...\n  ##\n  repmgrConfiguration: ""\n\n  ## PostgreSQL configuration\n  ## You can use this parameter to specify the content for postgresql.conf\n  ## Otherwise, a repmgr.conf will be generated based on the environment variables\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql-repmgr#configuration\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql-repmgr#configuration-file\n  ## Example:\n  ## configuration: |-\n  ##   listen_addresses = \'*\'\n  ##   port = \'5432\'\n  ##   ...\n  ##\n  configuration: ""\n\n  ## PostgreSQL client authentication configuration\n  ## You can use this parameter to specify the content for pg_hba.conf\n  ## Otherwise, a repmgr.conf will be generated based on the environment variables\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql-repmgr#configuration\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql-repmgr#configuration-file\n  ## Example:\n  ## pgHbaConfiguration: |-\n  ##   host     all            repmgr    0.0.0.0/0    md5\n  ##   host     repmgr         repmgr    0.0.0.0/0    md\n  ##   ...\n  ##\n  pgHbaConfiguration: ""\n\n  ## Name of existing ConfigMap with configuration files\n  ## NOTE: This will override postgresql.repmgrConfiguration, postgresql.configuration and postgresql.pgHbaConfiguration\n  ##\n  # configurationCM:\n\n  ## PostgreSQL extended configuration\n  ## Similar to postgresql.configuration, but _appended_ to the main configuration\n  ## ref: https://github.com/bitnami/bitnami-docker-postgresql-repmgr#allow-settings-to-be-loaded-from-files-other-than-the-default-postgresqlconf\n  ## Example:\n  ## extendedConf: |-\n  ##   deadlock_timeout = 1s\n  ##   max_locks_per_transaction = 64\n  ##   ...\n  ##\n  extendedConf: ""\n\n  ## ConfigMap with PostgreSQL extended configuration\n  ## NOTE: This will override postgresql.extendedConf\n  ##\n  # extendedConfCM:\n\n  ## initdb scripts\n  ## Specify dictionary of scripts to be run at first boot\n  ## The allowed extensions are `.sh`, `.sql` and `.sql.gz`\n  ## ref: https://github.com/bitnami/charts/tree/master/bitnami/postgresql-ha#initialize-a-fresh-instance\n  ##\n  # initdbScripts:\n  #   my_init_script.sh: |\n  #      #!/bin/sh\n  #      echo "Do something."\n  ## ConfigMap with scripts to be run at first boot\n  ## NOTE: This will override initdbScripts\n  ##\n  # initdbScriptsCM:\n  ## Secret with scripts to be run at first boot\n  ## Note: can be used with initdbScriptsCM or initdbScripts\n  ##\n  # initdbScriptsSecret:\n\n## Pgpool parameters\n##\npgpool:\n  ## Additional users that will be performing connections to the database using\n  ## pgpool. Use this property in order to create new user/password entries that\n  ## will be appended to the "pgpool_passwd" file\n  ##\n  customUsers: {}\n  ##  Comma or semicolon separated list of postgres usernames\n  #   usernames: \'user01;user02\'\n\n  ##  Comma or semicolon separated list of the associated passwords for the\n  ##  users above\n  #   passwords: \'pass01;pass02\'\n\n  ## Deployment pod host aliases\n  ## https://kubernetes.io/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/\n  ##\n  hostAliases: []\n\n  ## Alternatively, you can provide the name of a secret containing this information.\n  ## The secret must contain the keys "usernames" and "passwords" respectively.\n  ##\n  customUsersSecret:\n\n  ## Database to perform streaming replication checks\n  ##\n  srCheckDatabase: postgres\n\n  ## Labels to add to the Deployment. Evaluated as template\n  ##\n  labels: {}\n\n  ## Labels to add to the pods. Evaluated as template\n  ##\n  podLabels: {}\n\n  ## Labels to add to the service. Evaluated as template\n  ##\n  serviceLabels: {}\n\n  ## Custom Liveness probe\n  ##\n  customLivenessProbe: {}\n\n  ## Custom Readiness probe\n  ##\n  customReadinessProbe: {}\n\n  ## Custom Startup probe\n  ##\n  customStartupProbe: {}\n\n  ## Container command (using container default if not set)\n  ##\n  command:\n\n  ## Container args (using container default if not set)\n  ##\n  args:\n\n  ## lifecycleHooks for the container to automate configuration before or after startup.\n  ##\n  lifecycleHooks:\n\n  ## An array to add extra env vars\n  ## For example:\n  ##\n  extraEnvVars: []\n  #  - name: BEARER_AUTH\n  #    value: true\n\n  ## ConfigMap with extra environment variables\n  ##\n  extraEnvVarsCM:\n\n  ## Secret with extra environment variables\n  ##\n  extraEnvVarsSecret:\n\n  ## Extra volumes to add to the deployment\n  ##\n  extraVolumes: []\n\n  ## Extra volume mounts to add to the container\n  ##\n  extraVolumeMounts: []\n\n  ## Extra init containers to add to the deployment\n  ##\n  initContainers: []\n\n  ## Extra sidecar containers to add to the deployment\n  ##\n  sidecars: []\n\n  ## Number of replicas to deploy\n  ##\n  replicaCount: 1\n\n  ## Additional pod annotations\n  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/\n  ##\n  podAnnotations: {}\n\n  ## Pod priority class\n  ## Ref: https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/\n  ##\n  priorityClassName: ""\n\n  ## Pgpool pod affinity preset\n  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\n  ## Allowed values: soft, hard\n  ##\n  podAffinityPreset: ""\n\n  ## Pgpool pod anti-affinity preset\n  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\n  ## Allowed values: soft, hard\n  ##\n  podAntiAffinityPreset: soft\n\n  ## Pgpool node affinity preset\n  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity\n  ## Allowed values: soft, hard\n  ##\n  nodeAffinityPreset:\n    ## Node affinity type\n    ## Allowed values: soft, hard\n    ##\n    type: ""\n    ## Node label key to match\n    ## E.g.\n    ## key: "kubernetes.io/e2e-az-name"\n    ##\n    key: ""\n    ## Node label values to match\n    ## E.g.\n    ## values:\n    ##   - e2e-az1\n    ##   - e2e-az2\n    ##\n    values: []\n\n  ## Affinity for Pgpool pods assignment\n  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity\n  ## Note: pgpool.podAffinityPreset, pgpool.podAntiAffinityPreset, and pgpool.nodeAffinityPreset will be ignored when it\'s set\n  ##\n  affinity: {}\n\n  ## Node labels for Pgpool pods assignment\n  ## ref: https://kubernetes.io/docs/user-guide/node-selection/\n  ##\n  nodeSelector: {}\n\n  ## Tolerations for Pgpool pods assignment\n  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/\n  ##\n  tolerations: []\n\n  ## K8s Security Context\n  ## https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\n  ##\n  securityContext:\n    enabled: true\n    fsGroup: 1001\n\n  ## Container Security Context\n  ## https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\n  ##\n  containerSecurityContext:\n    enabled: true\n    runAsUser: 1001\n\n  ## Pgpool containers\' resource requests and limits\n  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/\n  ##\n  resources:\n    # We usually recommend not to specify default resources and to leave this as a conscious\n    # choice for the user. This also increases chances charts run on environments with little\n    # resources, such as Minikube. If you do want to specify resources, uncomment the following\n    # lines, adjust them as necessary, and remove the curly braces after \'resources:\'.\n    limits: {}\n    #   cpu: 250m\n    #   memory: 256Mi\n    requests: {}\n    #   cpu: 250m\n    #   memory: 256Mi\n\n  ## Pgpool container\'s liveness, readiness, and startup probes\n  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes\n  ##\n  livenessProbe:\n    enabled: true\n    initialDelaySeconds: 30\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 5\n  readinessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 5\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 5\n  startupProbe:\n    enabled: false\n    initialDelaySeconds: 5\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 10\n\n  ## Pod disruption budget configuration\n  ##\n  pdb:\n    ## Specifies whether a Pod disruption budget should be created\n    ##\n    create: false\n    minAvailable: 1\n    # maxUnavailable: 1\n\n  ## strategy used to replace old Pods by new ones\n  ## ref: https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#strategy\n  ##\n  updateStrategy: {}\n\n  ## minReadySeconds to avoid killing pods before we are ready\n  ##\n  # minReadySeconds: 0\n\n  ## Credentials for the pgpool administrator\n  ##\n  adminUsername: admin\n  # adminPassword:\n\n  ## Log all client connections (PGPOOL_ENABLE_LOG_CONNECTIONS)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  logConnections: false\n\n  ## Log the client hostname instead of IP address (PGPOOL_ENABLE_LOG_HOSTNAME)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  logHostname: true\n\n  ## Log every SQL statement for each DB node separately (PGPOOL_ENABLE_LOG_PER_NODE_STATEMENT)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  logPerNodeStatement: false\n\n  ## Format of the log entry lines (PGPOOL_LOG_LINE_PREFIX)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ## ref: https://www.pgpool.net/docs/latest/en/html/runtime-config-logging.html\n  ##\n  logLinePrefix:\n\n  ## Log level for clients\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  clientMinMessages: error\n\n  ## The number of preforked Pgpool-II server processes. It is also the concurrent\n  ## connections limit to Pgpool-II from clients. Must be a positive integer. (PGPOOL_NUM_INIT_CHILDREN)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  numInitChildren:\n\n  ## The maximum number of cached connections in each child process (PGPOOL_MAX_POOL)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  maxPool:\n\n  ## The maximum number of client connections in each child process (PGPOOL_CHILD_MAX_CONNECTIONS)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  childMaxConnections:\n\n  ## The time in seconds to terminate a Pgpool-II child process if it remains idle (PGPOOL_CHILD_LIFE_TIME)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  childLifeTime:\n\n  ## The time in seconds to disconnect a client if it remains idle since the last query (PGPOOL_CLIENT_IDLE_LIMIT)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  clientIdleLimit:\n\n  ## The time in seconds to terminate the cached connections to the PostgreSQL backend (PGPOOL_CONNECTION_LIFE_TIME)\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ##\n  connectionLifeTime:\n\n  ## Use Pgpool Load-Balancing\n  ##\n  useLoadBalancing: true\n\n  ## Pgpool configuration\n  ## You can use this parameter to specify the content for pgpool.conf\n  ## Otherwise, a repmgr.conf will be generated based on the environment variables\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration\n  ## ref: https://github.com/bitnami/bitnami-docker-pgpool#configuration-file\n  ## Example:\n  ## configuration: |-\n  ##   listen_addresses = \'*\'\n  ##   port = \'5432\'\n  ##   ...\n  ##\n  configuration: ""\n\n  ## ConfigMap with Pgpool configuration\n  ## NOTE: This will override pgpool.configuration parameter\n  ##\n  # configurationCM:\n\n  ## initdb scripts\n  ## Specify dictionary of scripts to be run every time Pgpool container is initialized\n  ## The allowed extension is `.sh`\n  ## ref: https://github.com/bitnami/charts/tree/master/bitnami/postgresql-ha#initialize-a-fresh-instance\n  ##\n  # initdbScripts:\n  #   my_init_script.sh: |\n  #      #!/bin/sh\n  #      echo "Do something."\n\n  ## ConfigMap with scripts to be run every time Pgpool container is initialized\n  ## NOTE: This will override pgpool.initdbScripts\n  ##\n  # initdbScriptsCM:\n\n  ## Secret with scripts to be run every time Pgpool container is initialized\n  ## Note: can be used with initdbScriptsCM or initdbScripts\n  ##\n  # initdbScriptsSecret:\n\n  ##\n  ## TLS configuration\n  ##\n  tls:\n    ## Enable TLS traffic\n    ##\n    enabled: false\n    ##\n    ## Whether to use the server\'s TLS cipher preferences rather than the client\'s.\n    ##\n    preferServerCiphers: true\n    ##\n    ## Name of the Secret that contains the certificates\n    ##\n    certificatesSecret: ""\n    ##\n    ## Certificate filename\n    ##\n    certFilename: ""\n    ##\n    ## Certificate Key filename\n    ##\n    certKeyFilename: ""\n    ##\n    ## CA Certificate filename\n    ## If provided, PgPool will authenticate TLS/SSL clients by requesting them a certificate\n    ## ref: https://www.pgpool.net/docs/latest/en/html/runtime-ssl.html\n    ##\n    certCAFilename:\n\n## LDAP parameters\n##\nldap:\n  enabled: false\n  ## Retrieve LDAP bindpw from existing secret\n  ##\n  # existingSecret: myExistingSecret\n  uri:\n  base:\n  binddn:\n  bindpw:\n  bslookup:\n  scope:\n  tlsReqcert:\n  nssInitgroupsIgnoreusers: root,nslcd\n\n## Init Container parameters\n##\nvolumePermissions:\n  enabled: false\n  ## K8s Security Context\n  ## https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\n  ##\n  securityContext:\n    runAsUser: 0\n  ## Init container\' resource requests and limits\n  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/\n  ##\n  resources:\n    # We usually recommend not to specify default resources and to leave this as a conscious\n    # choice for the user. This also increases chances charts run on environments with little\n    # resources, such as Minikube. If you do want to specify resources, uncomment the following\n    # lines, adjust them as necessary, and remove the curly braces after \'resources:\'.\n    limits: {}\n    #   cpu: 100m\n    #   memory: 128Mi\n    requests: {}\n    #   cpu: 100m\n    #   memory: 128Mi\n\n## PostgreSQL Prometheus exporter parameters\n##\nmetrics:\n  enabled: false\n  ## K8s Security Context\n  ## https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\n  ##\n  securityContext:\n    enabled: true\n    runAsUser: 1001\n\n  ## Prometheus exporter containers\' resource requests and limits\n  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/\n  ##\n  resources:\n    # We usually recommend not to specify default resources and to leave this as a conscious\n    # choice for the user. This also increases chances charts run on environments with little\n    # resources, such as Minikube. If you do want to specify resources, uncomment the following\n    # lines, adjust them as necessary, and remove the curly braces after \'resources:\'.\n    limits: {}\n    #   cpu: 250m\n    #   memory: 256Mi\n    requests: {}\n    #   cpu: 250m\n    #   memory: 256Mi\n\n  ## Prometheus exporter container\'s liveness, readiness, and startup probes\n  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes\n  ##\n  livenessProbe:\n    enabled: true\n    initialDelaySeconds: 30\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 6\n  readinessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 6\n  startupProbe:\n    enabled: false\n    initialDelaySeconds: 5\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 10\n\n  ## Annotations for Prometheus exporter\n  ##\n  annotations:\n    prometheus.io/scrape: "true"\n    prometheus.io/port: "9187"\n\n  ## Enable this if you\'re using Prometheus Operator\n  ##\n  serviceMonitor:\n    enabled: false\n\n    ## Specify a namespace if needed\n    # namespace: monitoring\n    # fallback to the prometheus default unless specified\n    # interval: 10s\n    # scrapeTimeout: 10s\n\n    ## Defaults to what\'s used if you follow CoreOS [Prometheus Install Instructions](https://github.com/bitnami/charts/tree/master/bitnami/prometheus-operator#tldr)\n    ## [Prometheus Selector Label](https://github.com/bitnami/charts/tree/master/bitnami/prometheus-operator#prometheus-operator-1)\n    ## [Kube Prometheus Selector Label](https://github.com/bitnami/charts/tree/master/bitnami/prometheus-operator#exporters)\n    ##\n    selector:\n      prometheus: kube-prometheus\n\n    ## RelabelConfigs to apply to samples before scraping\n    ## ref: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#relabelconfig\n    ## Value is evalued as a template\n    ##\n    relabelings: []\n\n    ## MetricRelabelConfigs to apply to samples before ingestion\n    ## ref: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#relabelconfig\n    ## Value is evalued as a template\n    ##\n    metricRelabelings: []\n\n## Persistence parameters\n##\npersistence:\n  enabled: true\n  ## A manually managed Persistent Volume and Claim\n  ## If defined, PVC must be created manually before volume will be bound.\n  ## All replicas will share this PVC, using existingClaim with\n  ## replicas > 1 is only useful in very special use cases.\n  ## The value is evaluated as a template.\n  ##\n  # existingClaim:\n  ## Persistent Volume Storage Class\n  ## If defined, storageClassName: <storageClass>\n  ## If set to "-", storageClassName: "", which disables dynamic provisioning\n  ## If undefined (the default) or set to null, no storageClassName spec is\n  ## set, choosing the default provisioner.\n  ##\n  # storageClass: "-"\n  ## The path the volume will be mounted at, useful when using different\n  ## PostgreSQL images.\n  ##\n  mountPath: /bitnami/postgresql\n  ## Persistent Volume Access Mode\n  ##\n  accessModes:\n    - ReadWriteOnce\n  ## Persistent Volume Claim size\n  ##\n  size: 8Gi\n  ## Persistent Volume Claim annotations\n  ##\n  annotations: {}\n  ## selector can be used to match an existing PersistentVolume\n  ## selector:\n  ##   matchLabels:\n  ##     app: my-app\n  ##\n  selector: {}\n\n## PgPool service parameters\n##\nservice:\n  ## Service type\n  ##\n  type: ClusterIP\n  ## Service Port\n  ##\n  port: 5432\n  ## Specify the nodePort value for the LoadBalancer and NodePort service types.\n  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport\n  ##\n  # nodePort:\n  ## Set the LoadBalancer service type to internal only.\n  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer\n  ##\n  # loadBalancerIP:\n  ## Load Balancer sources\n  ## https://kubernetes.io/docs/tasks/access-application-cluster/configure-cloud-provider-firewall/#restrict-access-for-loadbalancer-service\n  ##\n  # loadBalancerSourceRanges:\n  # - 10.10.10.0/24\n  ## Set the Cluster IP to use\n  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#choosing-your-own-ip-address\n  ##\n  # clusterIP: None\n  ## Provide any additional annotations which may be required\n  ##\n  annotations: {}\n  ## Labels to add to the service. Evaluated as template\n  ##\n  serviceLabels: {}\n\n## NetworkPolicy parameters\n##\nnetworkPolicy:\n  enabled: false\n\n  ## The Policy model to apply. When set to false, only pods with the correct\n  ## client labels will have network access to the port PostgreSQL is listening\n  ## on. When true, PostgreSQL will accept connections from any source\n  ## (with the correct destination port).\n  ##\n  allowExternal: true\n\n## Array with extra yaml to deploy with the chart. Evaluated as a template\n##\nextraDeploy: []\n\n')))}d.isMDXComponent=!0}}]);