"use strict";(self.webpackChunklrvinye_blog=self.webpackChunklrvinye_blog||[]).push([[501],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return m}});var s=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,s,a=function(e,n){if(null==e)return{};var t,s,a={},r=Object.keys(e);for(s=0;s<r.length;s++)t=r[s],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)t=r[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=s.createContext({}),c=function(e){var n=s.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=c(e.components);return s.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return s.createElement(s.Fragment,{},n)}},p=s.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=c(t),m=a,f=p["".concat(l,".").concat(m)]||p[m]||u[m]||r;return t?s.createElement(f,i(i({ref:n},d),{},{components:t})):s.createElement(f,i({ref:n},d))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,i=new Array(r);i[0]=p;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var c=2;c<r;c++)i[c]=t[c];return s.createElement.apply(null,i)}return s.createElement.apply(null,t)}p.displayName="MDXCreateElement"},3847:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return d},default:function(){return p}});var s=t(7462),a=t(3366),r=(t(7294),t(3905)),i=["components"],o={title:"\u901a\u8fc7 Helm \u90e8\u7f72 Redis \u96c6\u7fa4",date:new Date("2021-03-31T18:50:45.000Z"),tags:["Helm","K8S","Redis","Bitnami","\u5b89\u88c5","\u914d\u7f6e"],category:"\u8fd0\u7ef4"},l=void 0,c={unversionedId:"devops/deployRedisClusterByHelm",id:"devops/deployRedisClusterByHelm",isDocsHomePage:!1,title:"\u901a\u8fc7 Helm \u90e8\u7f72 Redis \u96c6\u7fa4",description:"\u4e0b\u9762\u5c06\u4ecb\u7ecd\uff0c\u5728K8S\u96c6\u7fa4\u4e2d\u901a\u8fc7 Bitnami \u7684 Helm Chart \u642d\u5efa\u90e8\u7f72\u4e00\u4e2a3\u8282\u70b9\u7684 \u4e00\u4e3b\u4e8c\u4ece\u67b6\u6784 Redis\u96c6\u7fa4",source:"@site/docs/devops/deployRedisClusterByHelm.md",sourceDirName:"devops",slug:"/devops/deployRedisClusterByHelm",permalink:"/docs/devops/deployRedisClusterByHelm",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/devops/deployRedisClusterByHelm.md",version:"current",frontMatter:{title:"\u901a\u8fc7 Helm \u90e8\u7f72 Redis \u96c6\u7fa4",date:"2021-03-31T18:50:45.000Z",tags:["Helm","K8S","Redis","Bitnami","\u5b89\u88c5","\u914d\u7f6e"],category:"\u8fd0\u7ef4"},sidebar:"devops",previous:{title:"\u901a\u8fc7 Helm \u90e8\u7f72 RabbitMQ \u96c6\u7fa4",permalink:"/docs/devops/deployRabbitMqClusterByHelm"},next:{title:"\u54ea\u4e2a\u7537\u5b69\u4e0d\u60f3\u62e5\u6709\u4e00\u6b3e\u5c5e\u4e8e\u81ea\u5df1\u7684\u535a\u5ba2\u5462\uff1f",permalink:"/docs/devops/howToBuildHexoBlog"}},d=[{value:"\u51c6\u5907\u6301\u4e45\u5316",id:"\u51c6\u5907\u6301\u4e45\u5316",children:[]},{value:"\u51c6\u5907 Values.yaml",id:"\u51c6\u5907-valuesyaml",children:[{value:"<strong>\u5168\u5c40\u53c2\u6570</strong>",id:"\u5168\u5c40\u53c2\u6570",children:[]},{value:"<strong>\u96c6\u7fa4\u8bbe\u7f6e</strong>",id:"\u96c6\u7fa4\u8bbe\u7f6e",children:[]},{value:"<strong>\u8282\u70b9\u8bbe\u7f6e</strong>",id:"\u8282\u70b9\u8bbe\u7f6e",children:[]},{value:"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e",id:"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e",children:[]},{value:"redis.conf \u914d\u7f6e",id:"redisconf-\u914d\u7f6e",children:[]}]}],u={toc:d};function p(e){var n=e.components,t=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,s.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u4e0b\u9762\u5c06\u4ecb\u7ecd\uff0c\u5728K8S\u96c6\u7fa4\u4e2d\u901a\u8fc7 Bitnami \u7684 Helm Chart \u642d\u5efa\u90e8\u7f72\u4e00\u4e2a3\u8282\u70b9\u7684 \u4e00\u4e3b\u4e8c\u4ece\u67b6\u6784 Redis\u96c6\u7fa4"),(0,r.kt)("h1",{id:"\u73af\u5883"},"\u73af\u5883"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u817e\u8baf\u4e91 kubernetes 1.18.4-tke.6"),(0,r.kt)("li",{parentName:"ul"},"Redis\u2122 Bitnami 12.10.0 ",(0,r.kt)("a",{parentName:"li",href:"https://charts.bitnami.com/bitnami/redis-12.10.0.tgz"},"Chart\u4e0b\u8f7d"))),(0,r.kt)("h1",{id:"\u5177\u4f53\u6b65\u9aa4"},"\u5177\u4f53\u6b65\u9aa4"),(0,r.kt)("h2",{id:"\u51c6\u5907\u6301\u4e45\u5316"},"\u51c6\u5907\u6301\u4e45\u5316"),(0,r.kt)("p",null,"\u8fd9\u91cc\u4f7f\u7528\u817e\u8baf\u4e91\u7684\u4e91\u786c\u76d8\u4f5c\u4e3a\u6301\u4e45\u5316\u5377"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u624b\u52a8\u521b\u5efa \u6240\u9700\u7684\u4e91\u786c\u76d8\uff0c\u8fd9\u91cc\u6211\u4eec\u67093\u4e2a\u8282\u70b9\uff0c\u9700\u89813\u4e2a\u4e91\u786c\u76d8\uff0c\u6bcf\u4e2a10GB"),(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e0e\u4e91\u786c\u76d8\u5bf9\u5e94\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"storageClass")," \u7531\u4e8e\u662f\u6570\u636e\u5e93\u6301\u4e45\u5316\u578b\u7684\u6570\u636e\uff0c\u6211\u4eec\u5e94\u8be5\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u6307\u5b9a\u56de\u6536\u7b56\u7565\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"Retain"),"\uff0c\u5377\u7ed1\u5b9a\u6a21\u5f0f\u5e94\u8be5\u8bbe\u7f6e\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"\u7acb\u5373\u7ed1\u5b9a")),(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u6307\u5b9a",(0,r.kt)("inlineCode",{parentName:"li"},"storageClass"),"\u7684 PV\u5377 \u5e76\u5728\u63a7\u5236\u53f0\u4e2d\u4e0e\u4e0a\u4e00\u6b65\u521b\u5efa\u7684\u4e91\u786c\u76d8\u64cd\u4f5c\u8fdb\u884c\u7ed1\u5b9a"),(0,r.kt)("li",{parentName:"ol"},"PV \u9700\u8981\u6253\u4e0alabels")),(0,r.kt)("p",null,"\u4e3b\u8282\u70b9\u4e00\u4e2a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"labels: \n  app: redis-master\n")),(0,r.kt)("p",null,"\u4ece\u8282\u70b9\u4e24\u4e2a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"labels: \n  app: redis-slave\n")),(0,r.kt)("p",null,"\u8fd9\u91cc\u7684label\u5c06\u5728\u4e0b\u9762\u7684\u6b65\u9aa4\u4e2d\u7528\u6765\u5bf9PVC\u8fdb\u884c\u5339\u914d"),(0,r.kt)("h2",{id:"\u51c6\u5907-valuesyaml"},"\u51c6\u5907 Values.yaml"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e0b\u9762\u7684Values\u914d\u7f6e\u4e2d\uff0c\u4ec5\u6307\u51fa\u9700\u8981\u6839\u636e",(0,r.kt)("a",{parentName:"p",href:"#Values%E5%8E%9F%E6%A8%A1%E6%9D%BF%E9%85%8D%E7%BD%AE"},"\u6a21\u677f"),"\u7684\u539f\u914d\u7f6e\u4fe1\u606f\u8fdb\u884c\u81ea\u5b9a\u4e49\u7684\u9009\u9879\uff01\uff01\uff01")),(0,r.kt)("h3",{id:"\u5168\u5c40\u53c2\u6570"},(0,r.kt)("strong",{parentName:"h3"},"\u5168\u5c40\u53c2\u6570")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6307\u5b9a ",(0,r.kt)("inlineCode",{parentName:"li"},"storageClass")," \u4e3a\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u7684SC")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"global:\n  storageClass: cbs-db-sc-test\n  redis:\n    password: xxx123456\n")),(0,r.kt)("h3",{id:"\u96c6\u7fa4\u8bbe\u7f6e"},(0,r.kt)("strong",{parentName:"h3"},"\u96c6\u7fa4\u8bbe\u7f6e")),(0,r.kt)("p",null,"\u542f\u7528\u96c6\u7fa4\u5e76\u8bbe\u7f6e",(0,r.kt)("inlineCode",{parentName:"p"},"slaveCount"),"\u8282\u70b9\u6570\u4e3a2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"cluster:\n  enabled: true\n  slaveCount: 2\n")),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4e3a\u4f55\u4e0d\u624b\u52a8\u521b\u5efaPVC\u5e76\u5728\u4e0b\u9762\u7684\u9009\u9879\u4e2d\u8bbe\u7f6e",(0,r.kt)("inlineCode",{parentName:"strong"},"existingClaim")," ?")," ",(0,r.kt)("br",null)),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"persistence:\n  ## A manually managed Persistent Volume and Claim\n  ## Requires persistence.enabled: true\n  ## If defined, PVC must be created manually before volume will be bound\n  ##\n  existingClaim:\n")),(0,r.kt)("p",null,"\u5982\u679c\u5728\u6b64\u5904\u6307\u5b9a\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"existingClaim"),",\u90a3\u4e48\u6211\u4eec\u76843\u4e2a\u8282\u70b9\u5c06\u540c\u65f6\u6302\u8f7d\u5728\u4e00\u4e2aPVC\u4e0a\uff0c\u8fd9\u5c06\u5f71\u54cd\u6211\u4eec\u7684\u6301\u4e45\u5316\u6570\u636e\u9694\u79bb"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"\u8282\u70b9\u8bbe\u7f6e"},(0,r.kt)("strong",{parentName:"h3"},"\u8282\u70b9\u8bbe\u7f6e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'master:\n    #\u8fd9\u91cc\u6839\u636e\u81ea\u5df1\u7684\u53ef\u7528\u8d44\u6e90\u5408\u7406\u914d\u7f6e\n  resources:\n    requests:\n      memory: 100Mi\n      cpu: 50m\n    limits:\n      memory: 256Mi\n      cpu: 150m\n  nodeSelector: \n  #\u8fd9\u91cc\u662f\u7528\u6765\u7ea6\u675f\u8282\u70b9\u7684\u6240\u5728node\uff0c\u56e0\u4e3a\u817e\u8baf\u4e91\u7684\u4e91\u786c\u76d8\u53ea\u80fd\u6302\u8f7d\u540c\u4e00\u53ef\u7528\u533a\u4e0b\u7684CVM\n    topology.com.tencent.cloud.csi.cbs/zone: ap-guangzhou-4\n  persistence:\n    enabled: true\n    path: /data\n    subPath: ""\n    accessModes:\n      - ReadWriteOnce\n      #\u6700\u5c1110G\uff0c\u4e14\u4e3a10\u7684\u500d\u6570\n    size: 10Gi\n    # \u5339\u914d\u521b\u5efa\u7684PV\n    matchLabels:\n      app: redis-master\nslave:\n    #\u8fd9\u91cc\u6839\u636e\u81ea\u5df1\u7684\u53ef\u7528\u8d44\u6e90\u5408\u7406\u914d\u7f6e\n  resources:\n    requests:\n      memory: 100Mi\n      cpu: 50m\n    limits:\n      memory: 256Mi\n      cpu: 150m\n  nodeSelector: \n  #\u8fd9\u91cc\u662f\u7528\u6765\u7ea6\u675f\u8282\u70b9\u7684\u6240\u5728node\uff0c\u56e0\u4e3a\u817e\u8baf\u4e91\u7684\u4e91\u786c\u76d8\u53ea\u80fd\u6302\u8f7d\u540c\u4e00\u53ef\u7528\u533a\u4e0b\u7684CVM\n    topology.com.tencent.cloud.csi.cbs/zone: ap-guangzhou-4\n  persistence:\n    enabled: true\n    path: /data\n    subPath: ""\n    accessModes:\n      - ReadWriteOnce\n      #\u6700\u5c1110G\uff0c\u4e14\u4e3a10\u7684\u500d\u6570\n    size: 10Gi\n    # \u5339\u914d\u521b\u5efa\u7684PV\n    matchLabels:\n      app: redis-slave\n')),(0,r.kt)("h3",{id:"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e"},"\u521d\u59cb\u5316\u65f6\u76ee\u5f55\u6743\u9650\u914d\u7f6e"),(0,r.kt)("p",null,"\u4e3a\u4e86\u9632\u6b62\u6743\u9650\u4e0d\u8db3",(0,r.kt)("inlineCode",{parentName:"p"},"Permission deny")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"volumePermissions:\n  enabled: true\n")),(0,r.kt)("h3",{id:"redisconf-\u914d\u7f6e"},"redis.conf \u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'configmap: |-\n  # Enable AOF https://redis.io/topics/persistence#append-only-file\n  # \u8fd9\u4e00\u9879\u9700\u4e3a no \u5426\u5219\u65e0\u6cd5\u8fdb\u884c\u4e3b\u4ece\u590d\u5236\n  appendonly no\n  # Disable RDB persistence, AOF persistence already enabled.\n  save ""\n')),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Chart \u51c6\u5907\u5b8c\u6bd5\u5373\u53ef\u8fdb\u884c\u90e8\u7f72"),(0,r.kt)("h1",{id:"values\u539f\u6a21\u677f\u914d\u7f6e"},"Values\u539f\u6a21\u677f\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'## Global Docker image parameters\n## Please, note that this will override the image parameters, including dependencies, configured to use the global value\n## Current available global Docker image parameters: imageRegistry and imagePullSecrets\n##\nglobal:\n  # imageRegistry: myRegistryName\n  # imagePullSecrets:\n  #   - myRegistryKeySecretName\n  # storageClass: myStorageClass\n  redis: {}\n\n## Bitnami Redis(TM) image version\n## ref: https://hub.docker.com/r/bitnami/redis/tags/\n##\nimage:\n  registry: docker.io\n  repository: bitnami/redis\n  ## Bitnami Redis(TM) image tag\n  ## ref: https://github.com/bitnami/bitnami-docker-redis#supported-tags-and-respective-dockerfile-links\n  ##\n  tag: 6.0.12-debian-10-r3\n  ## Specify a imagePullPolicy\n  ## Defaults to \'Always\' if image tag is \'latest\', else set to \'IfNotPresent\'\n  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images\n  ##\n  pullPolicy: IfNotPresent\n  ## Optionally specify an array of imagePullSecrets.\n  ## Secrets must be manually created in the namespace.\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n  ##\n  # pullSecrets:\n  #   - myRegistryKeySecretName\n\n## String to partially override redis.fullname template (will maintain the release name)\n##\n# nameOverride:\n\n## String to fully override redis.fullname template\n##\n# fullnameOverride:\n\n## Cluster settings\n##\ncluster:\n  enabled: true\n  slaveCount: 2\n\n## Use redis sentinel in the redis pod. This will disable the master and slave services and\n## create one redis service with ports to the sentinel and the redis instances\n##\nsentinel:\n  enabled: false\n  ## Require password authentication on the sentinel itself\n  ## ref: https://redis.io/topics/sentinel\n  ##\n  usePassword: true\n  ## Bitnami Redis(TM) Sentintel image version\n  ## ref: https://hub.docker.com/r/bitnami/redis-sentinel/tags/\n  ##\n  image:\n    registry: docker.io\n    repository: bitnami/redis-sentinel\n    ## Bitnami Redis(TM) image tag\n    ## ref: https://github.com/bitnami/bitnami-docker-redis-sentinel#supported-tags-and-respective-dockerfile-links\n    ##\n    tag: 6.0.12-debian-10-r0\n    ## Specify a imagePullPolicy\n    ## Defaults to \'Always\' if image tag is \'latest\', else set to \'IfNotPresent\'\n    ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images\n    ##\n    pullPolicy: IfNotPresent\n    ## Optionally specify an array of imagePullSecrets.\n    ## Secrets must be manually created in the namespace.\n    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n    ##\n    # pullSecrets:\n    #   - myRegistryKeySecretName\n  masterSet: mymaster\n  initialCheckTimeout: 5\n  quorum: 2\n  downAfterMilliseconds: 20000\n  failoverTimeout: 18000\n  parallelSyncs: 1\n  port: 26379\n\n  ## Delay seconds when cleaning nodes IPs\n  ## When starting it will clean the sentinels IP (RESET "*") in all the nodes\n  ## This is the delay time before sending the command to the next node\n  ##\n  cleanDelaySeconds: 5\n\n  ## Additional Redis(TM) configuration for the sentinel nodes\n  ## ref: https://redis.io/topics/config\n  ##\n  configmap:\n  ## Enable or disable static sentinel IDs for each replicas\n  ## If disabled each sentinel will generate a random id at startup\n  ## If enabled, each replicas will have a constant ID on each start-up\n  ##\n  staticID: false\n  ## Configure extra options for Redis(TM) Sentinel liveness and readiness probes\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes)\n  ##\n  livenessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 5\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 5\n  readinessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 5\n    timeoutSeconds: 1\n    successThreshold: 1\n    failureThreshold: 5\n  customLivenessProbe: {}\n  customReadinessProbe: {}\n  ## Redis(TM) Sentinel resource requests and limits\n  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/\n  # resources:\n  #   requests:\n  #     memory: 256Mi\n  #     cpu: 100m\n  ## Redis(TM) Sentinel Service properties\n  ##\n  service:\n    ##  Redis(TM) Sentinel Service type\n    ##\n    type: ClusterIP\n    sentinelPort: 26379\n    redisPort: 6379\n\n    ## External traffic policy (when service type is LoadBalancer)\n    ## ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip\n    ##\n    externalTrafficPolicy: Cluster\n\n    ## Specify the nodePort value for the LoadBalancer and NodePort service types.\n    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport\n    ##\n    # sentinelNodePort:\n    # redisNodePort:\n\n    ## Provide any additional annotations which may be required. This can be used to\n    ## set the LoadBalancer service type to internal only.\n    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer\n    ##\n    annotations: {}\n    labels: {}\n    loadBalancerIP:\n\n  ## Additional commands to run prior to starting Redis(TM) node with sentinel\n  ##\n  preExecCmds: ""\n\n  ## An array to add extra env var to the sentinel node configurations\n  ## For example:\n  ## extraEnvVars:\n  ##  - name: name\n  ##    value: value\n  ##  - name: other_name\n  ##    valueFrom:\n  ##      fieldRef:\n  ##        fieldPath: fieldPath\n  ##\n  extraEnvVars: []\n\n  ## ConfigMap with extra env vars:\n  ##\n  extraEnvVarsCM: []\n\n  ## Secret with extra env vars:\n  ##\n  extraEnvVarsSecret: []\n\n## Specifies the Kubernetes Cluster\'s Domain Name.\n##\nclusterDomain: cluster.local\n\nnetworkPolicy:\n  ## Specifies whether a NetworkPolicy should be created\n  ##\n  enabled: false\n\n  ## The Policy model to apply. When set to false, only pods with the correct\n  ## client label will have network access to the port Redis(TM) is listening\n  ## on. When true, Redis(TM) will accept connections from any source\n  ## (with the correct destination port).\n  ##\n  # allowExternal: true\n\n  ## Allow connections from other namespaces. Just set label for namespace and set label for pods (optional).\n  ##\n  ingressNSMatchLabels: {}\n  ingressNSPodMatchLabels: {}\n\nserviceAccount:\n  ## Specifies whether a ServiceAccount should be created\n  ##\n  create: false\n  ## The name of the ServiceAccount to use.\n  ## If not set and create is true, a name is generated using the fullname template\n  ##\n  name:\n  ## Add annotations to service account\n  # annotations:\n  #   iam.gke.io/gcp-service-account: "sa@project.iam.gserviceaccount.com"\n\nrbac:\n  ## Specifies whether RBAC resources should be created\n  ##\n  create: false\n\n  role:\n    ## Rules to create. It follows the role specification\n    # rules:\n    #  - apiGroups:\n    #    - extensions\n    #    resources:\n    #      - podsecuritypolicies\n    #    verbs:\n    #      - use\n    #    resourceNames:\n    #      - gce.unprivileged\n    rules: []\n\n## Redis(TM) pod Security Context\n##\nsecurityContext:\n  enabled: true\n  fsGroup: 1001\n  ## sysctl settings for master and slave pods\n  ##\n  ## Uncomment the setting below to increase the net.core.somaxconn value\n  ##\n  # sysctls:\n  # - name: net.core.somaxconn\n  #   value: "10000"\n\n## Container Security Context\n## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\n##\ncontainerSecurityContext:\n  enabled: true\n  runAsUser: 1001\n\n## Use password authentication\n##\nusePassword: true\n## Redis(TM) password (both master and slave)\n## Defaults to a random 10-character alphanumeric string if not set and usePassword is true\n## ref: https://github.com/bitnami/bitnami-docker-redis#setting-the-server-password-on-first-run\n##\npassword: ""\n## Use existing secret (ignores previous password)\n# existingSecret:\n## Password key to be retrieved from Redis(TM) secret\n##\n# existingSecretPasswordKey:\n\n## Mount secrets as files instead of environment variables\n##\nusePasswordFile: false\n\n## Persist data to a persistent volume (Redis(TM) Master)\n##\npersistence:\n  ## A manually managed Persistent Volume and Claim\n  ## Requires persistence.enabled: true\n  ## If defined, PVC must be created manually before volume will be bound\n  ##\n  existingClaim:\n\n# Redis(TM) port\nredisPort: 6379\n\n##\n## TLS configuration\n##\ntls:\n  # Enable TLS traffic\n  enabled: false\n  #\n  # Whether to require clients to authenticate or not.\n  authClients: true\n  #\n  # Name of the Secret that contains the certificates\n  certificatesSecret:\n  #\n  # Certificate filename\n  certFilename:\n  #\n  # Certificate Key filename\n  certKeyFilename:\n  #\n  # CA Certificate filename\n  certCAFilename:\n  #\n  # File containing DH params (in order to support DH based ciphers)\n  # dhParamsFilename:\n\n##\n## Redis(TM) Master parameters\n##\nmaster:\n  ## Redis(TM) command arguments\n  ##\n  ## Can be used to specify command line arguments, for example:\n  ## Note `exec` is prepended to command\n  ##\n  command: "/run.sh"\n  ## Additional commands to run prior to starting Redis(TM)\n  ##\n  preExecCmds: ""\n  ## Additional Redis(TM) configuration for the master nodes\n  ## ref: https://redis.io/topics/config\n  ##\n  configmap:\n  ## Deployment pod host aliases\n  ## https://kubernetes.io/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/\n  ##\n  hostAliases: []\n  ## Redis(TM) additional command line flags\n  ##\n  ## Can be used to specify command line flags, for example:\n  ## extraFlags:\n  ##  - "--maxmemory-policy volatile-ttl"\n  ##  - "--repl-backlog-size 1024mb"\n  ##\n  extraFlags: []\n  ## Comma-separated list of Redis(TM) commands to disable\n  ##\n  ## Can be used to disable Redis(TM) commands for security reasons.\n  ## Commands will be completely disabled by renaming each to an empty string.\n  ## ref: https://redis.io/topics/security#disabling-of-specific-commands\n  ##\n  disableCommands:\n    - FLUSHDB\n    - FLUSHALL\n\n  ## Redis(TM) Master additional pod labels and annotations\n  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/\n  ##\n  podLabels: {}\n  podAnnotations: {}\n\n  ## Redis(TM) Master resource requests and limits\n  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/\n  # resources:\n  #   requests:\n  #     memory: 256Mi\n  #     cpu: 100m\n  ## Use an alternate scheduler, e.g. "stork".\n  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/\n  ##\n  # schedulerName:\n\n  # Enable shared process namespace in a pod.\n  # If set to false (default), each container will run in separate namespace, redis will have PID=1.\n  # If set to true, the /pause will run as init process and will reap any zombie PIDs,\n  # for example, generated by a custom exec probe running longer than a probe timeoutSeconds.\n  # Enable this only if customLivenessProbe or customReadinessProbe is used and zombie PIDs are accumulating.\n  # Ref: https://kubernetes.io/docs/tasks/configure-pod-container/share-process-namespace/\n  shareProcessNamespace: false\n  ## Configure extra options for Redis(TM) Master liveness and readiness probes\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes)\n  ##\n  livenessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 5\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 5\n  readinessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 5\n    timeoutSeconds: 1\n    successThreshold: 1\n    failureThreshold: 5\n\n  ## Configure custom probes for images other images like\n  ## rhscl/redis-32-rhel7 rhscl/redis-5-rhel7\n  ## Only used if readinessProbe.enabled: false / livenessProbe.enabled: false\n  ##\n  # customLivenessProbe:\n  #  tcpSocket:\n  #    port: 6379\n  #  initialDelaySeconds: 10\n  #  periodSeconds: 5\n  # customReadinessProbe:\n  #  initialDelaySeconds: 30\n  #  periodSeconds: 10\n  #  timeoutSeconds: 5\n  #  exec:\n  #    command:\n  #    - "container-entrypoint"\n  #    - "bash"\n  #    - "-c"\n  #    - "redis-cli set liveness-probe \\"`date`\\" | grep OK"\n  customLivenessProbe: {}\n  customReadinessProbe: {}\n\n  ## Redis(TM) Master Node selectors and tolerations for pod assignment\n  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\n  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#taints-and-tolerations-beta-feature\n  ##\n  # nodeSelector: {"beta.kubernetes.io/arch": "amd64"}\n  # tolerations: []\n  ## Redis(TM) Master pod/node affinity/anti-affinity\n  ##\n  affinity: {}\n\n  ## Redis(TM) Master Service properties\n  ##\n  service:\n    ##  Redis(TM) Master Service type\n    ##\n    type: ClusterIP\n    port: 6379\n\n    ## External traffic policy (when service type is LoadBalancer)\n    ## ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip\n    ##\n    externalTrafficPolicy: Cluster\n\n    ## Specify the nodePort value for the LoadBalancer and NodePort service types.\n    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport\n    ##\n    # nodePort:\n\n    ## Provide any additional annotations which may be required. This can be used to\n    ## set the LoadBalancer service type to internal only.\n    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer\n    ##\n    annotations: {}\n    labels: {}\n    loadBalancerIP:\n    # loadBalancerSourceRanges: ["10.0.0.0/8"]\n\n  ## Enable persistence using Persistent Volume Claims\n  ## ref: http://kubernetes.io/docs/user-guide/persistent-volumes/\n  ##\n  persistence:\n    enabled: true\n    ## The path the volume will be mounted at, useful when using different\n    ## Redis(TM) images.\n    ##\n    path: /data\n    ## The subdirectory of the volume to mount to, useful in dev environments\n    ## and one PV for multiple services.\n    ##\n    subPath: ""\n    ## redis data Persistent Volume Storage Class\n    ## If defined, storageClassName: <storageClass>\n    ## If set to "-", storageClassName: "", which disables dynamic provisioning\n    ## If undefined (the default) or set to null, no storageClassName spec is\n    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on\n    ##   GKE, AWS & OpenStack)\n    ##\n    # storageClass: "-"\n    accessModes:\n      - ReadWriteOnce\n    size: 8Gi\n    ## Persistent Volume selectors\n    ## https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector\n    ##\n    matchLabels: {}\n    matchExpressions: {}\n    volumes:\n    #  - name: volume_name\n    #    emptyDir: {}\n\n  ## Update strategy, can be set to RollingUpdate or onDelete by default.\n  ## https://kubernetes.io/docs/tutorials/stateful-application/basic-stateful-set/#updating-statefulsets\n  ##\n  statefulset:\n    labels: {}\n    annotations: {}\n    updateStrategy: RollingUpdate\n    ## Partition update strategy\n    ## https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#partitions\n    # rollingUpdatePartition:\n    volumeClaimTemplates:\n      labels: {}\n      annotations: {}\n\n  ## Redis(TM) Master pod priorityClassName\n  ##\n  priorityClassName: null\n\n  ## An array to add extra env vars\n  ## For example:\n  ## extraEnvVars:\n  ##  - name: name\n  ##    value: value\n  ##  - name: other_name\n  ##    valueFrom:\n  ##      fieldRef:\n  ##        fieldPath: fieldPath\n  ##\n  extraEnvVars: []\n\n  ## ConfigMap with extra env vars:\n  ##\n  extraEnvVarsCM: []\n\n  ## Secret with extra env vars:\n  ##\n  extraEnvVarsSecret: []\n\n##\n## Redis(TM) Slave properties\n## Note: service.type is a mandatory parameter\n## The rest of the parameters are either optional or, if undefined, will inherit those declared in Redis(TM) Master\n##\nslave:\n  ## Slave Service properties\n  ##\n  service:\n    ## Redis(TM) Slave Service type\n    ##\n    type: ClusterIP\n    ## Redis(TM) port\n    ##\n    port: 6379\n\n    ## External traffic policy (when service type is LoadBalancer)\n    ## ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip\n    ##\n    externalTrafficPolicy: Cluster\n\n    ## Specify the nodePort value for the LoadBalancer and NodePort service types.\n    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport\n    ##\n    # nodePort:\n\n    ## Provide any additional annotations which may be required. This can be used to\n    ## set the LoadBalancer service type to internal only.\n    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer\n    ##\n    annotations: {}\n    labels: {}\n    loadBalancerIP:\n    # loadBalancerSourceRanges: ["10.0.0.0/8"]\n\n  ## Redis(TM) slave port\n  ##\n  port: 6379\n  ## Deployment pod host aliases\n  ## https://kubernetes.io/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/\n  ##\n  hostAliases: []\n  ## Can be used to specify command line arguments, for example:\n  ## Note `exec` is prepended to command\n  ##\n  command: "/run.sh"\n  ## Additional commands to run prior to starting Redis(TM)\n  ##\n  preExecCmds: ""\n  ## Additional Redis(TM) configuration for the slave nodes\n  ## ref: https://redis.io/topics/config\n  ##\n  configmap:\n  ## Redis(TM) extra flags\n  ##\n  extraFlags: []\n  ## List of Redis(TM) commands to disable\n  ##\n  disableCommands:\n    - FLUSHDB\n    - FLUSHALL\n\n  ## Redis(TM) Slave pod/node affinity/anti-affinity\n  ##\n  affinity: {}\n\n  ## Kubernetes Spread Constraints for pod assignment\n  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/\n  ##\n  # - maxSkew: 1\n  #   topologyKey: node\n  #   whenUnsatisfiable: DoNotSchedule\n  spreadConstraints: {}\n\n  # Enable shared process namespace in a pod.\n  # If set to false (default), each container will run in separate namespace, redis will have PID=1.\n  # If set to true, the /pause will run as init process and will reap any zombie PIDs,\n  # for example, generated by a custom exec probe running longer than a probe timeoutSeconds.\n  # Enable this only if customLivenessProbe or customReadinessProbe is used and zombie PIDs are accumulating.\n  # Ref: https://kubernetes.io/docs/tasks/configure-pod-container/share-process-namespace/\n  shareProcessNamespace: false\n  ## Configure extra options for Redis(TM) Slave liveness and readiness probes\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes)\n  ##\n  livenessProbe:\n    enabled: true\n    initialDelaySeconds: 30\n    periodSeconds: 10\n    timeoutSeconds: 5\n    successThreshold: 1\n    failureThreshold: 5\n  readinessProbe:\n    enabled: true\n    initialDelaySeconds: 5\n    periodSeconds: 10\n    timeoutSeconds: 10\n    successThreshold: 1\n    failureThreshold: 5\n\n  ## Configure custom probes for images other images like\n  ## rhscl/redis-32-rhel7 rhscl/redis-5-rhel7\n  ## Only used if readinessProbe.enabled: false / livenessProbe.enabled: false\n  ##\n  # customLivenessProbe:\n  #  tcpSocket:\n  #    port: 6379\n  #  initialDelaySeconds: 10\n  #  periodSeconds: 5\n  # customReadinessProbe:\n  #  initialDelaySeconds: 30\n  #  periodSeconds: 10\n  #  timeoutSeconds: 5\n  #  exec:\n  #    command:\n  #    - "container-entrypoint"\n  #    - "bash"\n  #    - "-c"\n  #    - "redis-cli set liveness-probe \\"`date`\\" | grep OK"\n  customLivenessProbe: {}\n  customReadinessProbe: {}\n\n  ## Redis(TM) slave Resource\n  # resources:\n  #   requests:\n  #     memory: 256Mi\n  #     cpu: 100m\n\n  ## Redis(TM) slave selectors and tolerations for pod assignment\n  # nodeSelector: {"beta.kubernetes.io/arch": "amd64"}\n  # tolerations: []\n\n  ## Use an alternate scheduler, e.g. "stork".\n  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/\n  ##\n  # schedulerName:\n\n  ## Redis(TM) slave pod Annotation and Labels\n  ##\n  podLabels: {}\n  podAnnotations: {}\n\n  ## Redis(TM) slave pod priorityClassName\n  priorityClassName: null\n\n  ## Enable persistence using Persistent Volume Claims\n  ## ref: http://kubernetes.io/docs/user-guide/persistent-volumes/\n  ##\n  persistence:\n    enabled: true\n    ## The path the volume will be mounted at, useful when using different\n    ## Redis(TM) images.\n    ##\n    path: /data\n    ## The subdirectory of the volume to mount to, useful in dev environments\n    ## and one PV for multiple services.\n    ##\n    subPath: ""\n    ## redis data Persistent Volume Storage Class\n    ## If defined, storageClassName: <storageClass>\n    ## If set to "-", storageClassName: "", which disables dynamic provisioning\n    ## If undefined (the default) or set to null, no storageClassName spec is\n    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on\n    ##   GKE, AWS & OpenStack)\n    ##\n    # storageClass: "-"\n    accessModes:\n      - ReadWriteOnce\n    size: 8Gi\n    ## Persistent Volume selectors\n    ## https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector\n    ##\n    matchLabels: {}\n    matchExpressions: {}\n\n  ## Update strategy, can be set to RollingUpdate or onDelete by default.\n  ## https://kubernetes.io/docs/tutorials/stateful-application/basic-stateful-set/#updating-statefulsets\n  ##\n  statefulset:\n    labels: {}\n    annotations: {}\n    updateStrategy: RollingUpdate\n    ## Partition update strategy\n    ## https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#partitions\n    # rollingUpdatePartition:\n    volumeClaimTemplates:\n      labels: {}\n      annotations: {}\n\n  ## An array to add extra env vars\n  ## For example:\n  ## extraEnvVars:\n  ##  - name: name\n  ##    value: value\n  ##  - name: other_name\n  ##    valueFrom:\n  ##      fieldRef:\n  ##        fieldPath: fieldPath\n  ##\n  extraEnvVars: []\n\n  ## ConfigMap with extra env vars:\n  ##\n  extraEnvVarsCM: []\n\n  ## Secret with extra env vars:\n  ##\n  extraEnvVarsSecret: []\n\n## Prometheus Exporter / Metrics\n##\nmetrics:\n  enabled: false\n\n  image:\n    registry: docker.io\n    repository: bitnami/redis-exporter\n    tag: 1.17.1-debian-10-r12\n    pullPolicy: IfNotPresent\n    ## Optionally specify an array of imagePullSecrets.\n    ## Secrets must be manually created in the namespace.\n    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n    ##\n    # pullSecrets:\n    #   - myRegistryKeySecretName\n\n  # A way to specify an alternative redis hostname, if you set a local endpoint in hostAliases for example\n  # Useful for certificate CN/SAN matching\n  redisTargetHost: "localhost"\n\n  ## Metrics exporter resource requests and limits\n  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/\n  ##\n  # resources: {}\n\n  ## Extra arguments for Metrics exporter, for example:\n  ## extraArgs:\n  ##   check-keys: myKey,myOtherKey\n  # extraArgs: {}\n\n  ## Metrics exporter pod Annotation and Labels\n  ##\n  podAnnotations:\n    prometheus.io/scrape: "true"\n    prometheus.io/port: "9121"\n  # podLabels: {}\n\n  # Enable this if you\'re using https://github.com/coreos/prometheus-operator\n  serviceMonitor:\n    enabled: false\n    ## Specify a namespace if needed\n    # namespace: monitoring\n    # fallback to the prometheus default unless specified\n    # interval: 10s\n    ## Defaults to what\'s used if you follow CoreOS [Prometheus Install Instructions](https://github.com/bitnami/charts/tree/master/bitnami/prometheus-operator#tldr)\n    ## [Prometheus Selector Label](https://github.com/bitnami/charts/tree/master/bitnami/prometheus-operator#prometheus-operator-1)\n    ## [Kube Prometheus Selector Label](https://github.com/bitnami/charts/tree/master/bitnami/prometheus-operator#exporters)\n    ##\n    selector:\n      prometheus: kube-prometheus\n\n    ## RelabelConfigs to apply to samples before scraping\n    ## ref: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#relabelconfig\n    ## Value is evalued as a template\n    ##\n    relabelings: []\n\n    ## MetricRelabelConfigs to apply to samples before ingestion\n    ## ref: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#relabelconfig\n    ## Value is evalued as a template\n    ##\n    metricRelabelings: []\n    #  - sourceLabels:\n    #      - "__name__"\n    #    targetLabel: "__name__"\n    #    action: replace\n    #    regex: \'(.*)\'\n    #    replacement: \'example_prefix_$1\'\n\n  ## Custom PrometheusRule to be defined\n  ## The value is evaluated as a template, so, for example, the value can depend on .Release or .Chart\n  ## ref: https://github.com/coreos/prometheus-operator#customresourcedefinitions\n  ##\n  prometheusRule:\n    enabled: false\n    additionalLabels: {}\n    namespace: ""\n    ## Redis(TM) prometheus rules\n    ## These are just examples rules, please adapt them to your needs.\n    ## Make sure to constraint the rules to the current redis service.\n    # rules:\n    #   - alert: RedisDown\n    #     expr: redis_up{service="{{ template "redis.fullname" . }}-metrics"} == 0\n    #     for: 2m\n    #     labels:\n    #       severity: error\n    #     annotations:\n    #       summary: Redis(TM) instance {{ "{{ $labels.instance }}" }} down\n    #       description: Redis(TM) instance {{ "{{ $labels.instance }}" }} is down\n    #    - alert: RedisMemoryHigh\n    #      expr: >\n    #        redis_memory_used_bytes{service="{{ template "redis.fullname" . }}-metrics"} * 100\n    #        /\n    #        redis_memory_max_bytes{service="{{ template "redis.fullname" . }}-metrics"}\n    #        > 90\n    #      for: 2m\n    #      labels:\n    #        severity: error\n    #      annotations:\n    #        summary: Redis(TM) instance {{ "{{ $labels.instance }}" }} is using too much memory\n    #        description: |\n    #          Redis(TM) instance {{ "{{ $labels.instance }}" }} is using {{ "{{ $value }}" }}% of its available memory.\n    #    - alert: RedisKeyEviction\n    #      expr: |\n    #        increase(redis_evicted_keys_total{service="{{ template "redis.fullname" . }}-metrics"}[5m]) > 0\n    #      for: 1s\n    #      labels:\n    #        severity: error\n    #      annotations:\n    #        summary: Redis(TM) instance {{ "{{ $labels.instance }}" }} has evicted keys\n    #        description: |\n    #          Redis(TM) instance {{ "{{ $labels.instance }}" }} has evicted {{ "{{ $value }}" }} keys in the last 5 minutes.\n    rules: []\n\n  ## Metrics exporter pod priorityClassName\n  priorityClassName: null\n  service:\n    type: ClusterIP\n\n    ## External traffic policy (when service type is LoadBalancer)\n    ## ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip\n    ##\n    externalTrafficPolicy: Cluster\n\n    ## Use serviceLoadBalancerIP to request a specific static IP,\n    ## otherwise leave blank\n    # loadBalancerIP:\n    annotations: {}\n    labels: {}\n\n##\n## Init containers parameters:\n## volumePermissions: Change the owner of the persist volume mountpoint to RunAsUser:fsGroup\n##\nvolumePermissions:\n  enabled: false\n  image:\n    registry: docker.io\n    repository: bitnami/bitnami-shell\n    tag: "10"\n    pullPolicy: Always\n    ## Optionally specify an array of imagePullSecrets.\n    ## Secrets must be manually created in the namespace.\n    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n    ##\n    # pullSecrets:\n    #   - myRegistryKeySecretName\n  resources: {}\n  # resources:\n  #   requests:\n  #     memory: 128Mi\n  #     cpu: 100m\n\n  ## Init container Security Context\n  ## Note: the chown of the data folder is done to containerSecurityContext.runAsUser\n  ## and not the below volumePermissions.securityContext.runAsUser\n  ## When runAsUser is set to special value "auto", init container will try to chwon the\n  ## data folder to autodetermined user&group, using commands: `id -u`:`id -G | cut -d" " -f2`\n  ## "auto" is especially useful for OpenShift which has scc with dynamic userids (and 0 is not allowed).\n  ## You may want to use this volumePermissions.securityContext.runAsUser="auto" in combination with\n  ## podSecurityContext.enabled=false,containerSecurityContext.enabled=false\n  ##\n  securityContext:\n    runAsUser: 0\n\n## Redis(TM) config file\n## ref: https://redis.io/topics/config\n##\nconfigmap: |-\n  # Enable AOF https://redis.io/topics/persistence#append-only-file\n  appendonly yes\n  # Disable RDB persistence, AOF persistence already enabled.\n  save ""\n\n## Sysctl InitContainer\n## used to perform sysctl operation to modify Kernel settings (needed sometimes to avoid warnings)\n##\nsysctlImage:\n  enabled: false\n  command: []\n  registry: docker.io\n  repository: bitnami/bitnami-shell\n  tag: "10"\n  pullPolicy: Always\n  ## Optionally specify an array of imagePullSecrets.\n  ## Secrets must be manually created in the namespace.\n  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/\n  ##\n  # pullSecrets:\n  #   - myRegistryKeySecretName\n  mountHostSys: false\n  resources: {}\n  # resources:\n  #   requests:\n  #     memory: 128Mi\n  #     cpu: 100m\n\n## PodSecurityPolicy configuration\n## ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/\n##\npodSecurityPolicy:\n  ## Specifies whether a PodSecurityPolicy should be created\n  ##\n  create: false\n\n## Define a disruption budget\n## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/\n##\npodDisruptionBudget:\n  enabled: false\n  minAvailable: 1\n  # maxUnavailable: 1\n\n')))}p.isMDXComponent=!0}}]);